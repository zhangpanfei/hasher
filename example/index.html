<!DOCTYPE html>
<html>
<head>
	<title>Demo</title>
	<link rel="stylesheet" type="text/css" href="/static/bootstrap.min.css">
	<script src="/static/jsencrypt.min.js"></script>
</head>
<body>
<div class="container">
	<div class="panel panel-default">
		<div class="panel-heading">
			Rsa Demo
		</div>
		<div class="panel-body">
			<form action="" method="post">
				<div class="form-group">
					<label>username</label><input type="text" class="form-control" required name="username"/>
				</div>
				<div class="form-group">
					<label>password</label><input type="password" class="form-control" required name="password"/>
				</div>
				<div class="form-group">
					<button class="btn btn-success">login</button>
				</div>
			</form>
		</div>
	</div>
</div>
</body>
<script type="text/javascript">
	var rsa = new JSEncrypt();
	rsa.setPublicKey(`<?=$publicKey?>`);
	window.onload = function(){
		document.querySelector('.btn').onclick = function(){
			var username = document.querySelector('[name="username"]');
			var password = document.querySelector('[name="password"]');
			if (username.value && password.value) {
				username.value = rsa.encrypt(username.value);
				password.value = rsa.encrypt(password.value);
			}
		}
	}
</script>
</html>